(this["webpackJsonpreact-scratch-map"]=this["webpackJsonpreact-scratch-map"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),i=n(29),r=n.n(i),c=(n(35),n(10)),o=n(11),l=n(13),h=n(12),u=(n(36),n(0));var j=function(e){return Object(u.jsxs)("div",{children:[e.name,"'s Profile"]})};var d=function(){return Object(u.jsx)("div",{children:"Scratch Pad v-2"})},b=n(8);var g=function(e){return e.loggedIn?Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(b.b,{to:"/",children:"Scratch Pad"})}),Object(u.jsx)("li",{children:Object(u.jsx)(b.b,{to:"/profile",children:"My Profile"})}),Object(u.jsx)("li",{children:Object(u.jsx)(b.b,{to:"/map",children:"Map"})}),Object(u.jsx)("li",{children:Object(u.jsxs)("button",{onClick:e.logOut,children:["Logout ",e.name]})})]})}):Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(b.b,{to:"/",children:"Scratch Pad"})}),Object(u.jsx)("li",{children:Object(u.jsx)(b.b,{to:"/register",children:"Sign up"})}),Object(u.jsx)("li",{children:Object(u.jsx)(b.b,{to:"/login",children:"Login"})})]})})},p=(n(43),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},e.nameChange=function(t){e.setState({name:t.target.value})},e.emailChange=function(t){e.setState({email:t.target.value})},e.passwordChange=function(t){e.setState({password:t.target.value})},e.confirmPasswordChange=function(t){e.setState({confirmPassword:t.target.value})},e.handleRegister=function(t){t.preventDefault();var n={name:e.state.name,email:e.state.email,password:e.state.password,confirmPassword:e.state.confirmPassword};console.log("NEW MINION ATTAINED",n),e.props.onRegister(n)},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("form",{onSubmit:this.handleRegister,children:[Object(u.jsxs)("label",{className:"registerLabel",children:["Name:",Object(u.jsx)("input",{required:!0,name:"name",onChange:this.nameChange})]}),Object(u.jsxs)("label",{className:"registerLabel",children:["Email:",Object(u.jsx)("input",{type:"email",required:!0,name:"email",onChange:this.emailChange})]}),Object(u.jsxs)("label",{className:"registerLabel",children:["Password:",Object(u.jsx)("input",{type:"password",required:!0,name:"password",onChange:this.passwordChange})]}),Object(u.jsxs)("label",{className:"registerLabel",children:["Confirm Password:",Object(u.jsx)("input",{type:"password",required:!0,name:"confirmPassword",onChange:this.confirmPasswordChange})]}),Object(u.jsx)("button",{type:"submit",id:"register",children:"Submit"})]})}}]),n}(a.a.Component)),O=(n(44),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e.emailChange=function(t){e.setState({email:t.target.value})},e.passwordChange=function(t){e.setState({password:t.target.value})},e.handleLogin=function(t){t.preventDefault();var n={email:e.state.email,password:e.state.password};e.props.onLogin(n)},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("form",{onSubmit:this.handleLogin,children:[Object(u.jsxs)("label",{className:"loginLabel",children:["Email:",Object(u.jsx)("input",{type:"email",required:!0,name:"email",onChange:this.emailChange})]}),Object(u.jsxs)("label",{children:["Password:",Object(u.jsx)("input",{type:"password",required:!0,name:"password",onChange:this.passwordChange})]}),Object(u.jsx)("button",{type:"submit",id:"register",children:"Login"})]})}}]),n}(a.a.Component)),m=n(15),f=n.n(m);var x=function(){return Object(u.jsx)("div",{children:"Nat - replace this page with your map file"})},v=n(2),w=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={checkedSession:!1,loggedIn:!1,user:{}},e.userLogout=function(){f.a.delete("http://localhost:3000/login",{withCredentials:!0}).then((function(t){e.logOut()}))},e.userLogin=function(t){f.a.post("http://localhost:3000/login",t,{withCredentials:!0}).then((function(t){e.loginSuccess(t.data)})).catch((function(){return e.loginFail()}))},e.userRegistered=function(t){f.a.post("http://localhost:3000/users",{user:t},{withCredentials:!0}).then((function(t){e.loginSuccess(t.data)})).catch((function(){return e.loginFail()}))},e}return Object(o.a)(n,[{key:"loginSuccess",value:function(e){this.setState({checkedSession:!0,user:e,loggedIn:!0}),this.props.history.push("/profile")}},{key:"loginFail",value:function(){this.setState({checkedSession:!0,user:{},loggedIn:!1})}},{key:"logOut",value:function(){this.setState({checkedSession:!0,user:{},loggedIn:!1}),this.props.history.push("/")}},{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:3000/login",{withCredentials:!0}).then((function(t){e.loginSuccess(t.data)})).catch((function(){return e.loginFail()}))}},{key:"render",value:function(){return this.state.checkedSession?Object(u.jsxs)("div",{children:[Object(u.jsx)(g,{logOut:this.userLogout,loggedIn:this.state.loggedIn,name:this.state.user.name}),Object(u.jsxs)(v.c,{children:[Object(u.jsx)(v.a,{path:"/profile",children:Object(u.jsx)(j,{name:this.state.user.name,email:this.state.user.email})}),Object(u.jsx)(v.a,{path:"/register",children:Object(u.jsx)(p,{onRegister:this.userRegistered})}),Object(u.jsx)(v.a,{path:"/login",children:Object(u.jsx)(O,{onLogin:this.userLogin})}),Object(u.jsx)(v.a,{path:"/map",children:Object(u.jsx)(x,{})}),Object(u.jsx)(v.a,{path:"/",children:Object(u.jsx)(d,{})})]})]}):Object(u.jsx)("div",{children:"Loading ... "})}}]),n}(a.a.Component),C=Object(v.f)(w);var S=function(){return Object(u.jsx)(b.a,{children:Object(u.jsx)(C,{})})};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.4c1e7476.chunk.js.map