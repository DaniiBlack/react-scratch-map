(this["webpackJsonpreact-scratch-map"]=this["webpackJsonpreact-scratch-map"]||[]).push([[0],{10:function(e,_,t){"use strict";t.d(_,"a",(function(){return a}));var a=Object({NODE_ENV:"production",PUBLIC_URL:"/react-scratch-map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_HOST||"https://digitalscratchboard.herokuapp.com"},36:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23),_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16),_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14),_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),react_jvectormap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(37),react_jvectormap__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react_jvectormap__WEBPACK_IMPORTED_MODULE_7__),_emotion_styled__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(25),axios__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(9),axios__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_9__),country_list__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(24),country_list__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(country_list__WEBPACK_IMPORTED_MODULE_10__),_config__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(10),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__),_templateObject,_templateObject2,Map=function(_React$Component){Object(_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(Map,_React$Component);var _super=Object(_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_5__.a)(Map);function Map(){var _this;Object(_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,Map);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(args)),_this.state={countryCodes:[[],[]],countryNames:[[],[]],data:{blank:5},choiceIsVisited:!0,visitedColor:"#00cc00",bucketListColor:"#dddd00"},_this.handleColorChange=function(e){_this.setState({choiceIsVisited:eval(e.target.value)})},_this.postVisit=function(e,_,t){var a={countryCode:e,countryName:_,has_visited:t,on_bucket_list:!t};axios__WEBPACK_IMPORTED_MODULE_9___default.a.post("".concat(_config__WEBPACK_IMPORTED_MODULE_11__.a,"/visits"),a,{withCredentials:!0})},_this.deleteVisit=function(e){axios__WEBPACK_IMPORTED_MODULE_9___default.a.delete("".concat(_config__WEBPACK_IMPORTED_MODULE_11__.a,"/visits"),{data:{country_code:e},withCredentials:!0})},_this.handleClick=function(e,_){_this.state.choiceIsVisited?_this.addCountryToState(0,_,_this.state.choiceIsVisited):_this.addCountryToState(1,_,_this.state.choiceIsVisited)},_this.addCountryToState=function(e,_,t){var a=_this.state.countryCodes[e],r=_this.state.countryNames[e],s=_this.state.countryCodes[(e+1)%2],n=_this.state.countryNames[(e+1)%2],c={countryCodes:_this.state.countryCodes,countryNames:_this.state.countryNames,data:_this.state.data};if(_this.removeCountryFromState(s,n,_,c),-1===a.indexOf(_)){var o=Object(country_list__WEBPACK_IMPORTED_MODULE_10__.getName)(_);_this.postVisit(_,o,t),c.data[_]=t?5:1,c.countryCodes[e]=[].concat(Object(_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(a),[_]),c.countryNames[e]=[].concat(Object(_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(r),[o]),console.log(c.data),_this.setState(c),console.log(_this.state.data)}else _this.deleteVisit(_),_this.removeCountryFromState(a,r,_,c),c.countryCodes[e]=a,c.countryNames[e]=r,console.log(c.data),_this.setState(c),console.log(_this.state.data)},_this.removeCountryFromState=function(e,_,t,a){-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),_.splice(_.indexOf(Object(country_list__WEBPACK_IMPORTED_MODULE_10__.getName)(t)),1),delete a.data[t])},_this}return Object(_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(Map,[{key:"componentDidMount",value:function(){var e=this;axios__WEBPACK_IMPORTED_MODULE_9___default.a.get("".concat(_config__WEBPACK_IMPORTED_MODULE_11__.a,"/visits"),{withCredentials:!0}).then((function(_){console.log(_),_.data.forEach((function(_){var t=e.state.data;_.has_visited?(t[_.country.country_code]=5,e.setState({countryCodes:[[].concat(Object(_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(e.state.countryCodes[0]),[_.country.country_code]),e.state.countryCodes[1]],countryNames:[[].concat(Object(_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(e.state.countryNames[0]),[_.country.name]),e.state.countryNames[1]],data:t})):(t[_.country.country_code]=1,e.setState({countryCodes:[e.state.countryCodes[0],[].concat(Object(_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(e.state.countryCodes[1]),[_.country.country_code])],countryNames:[e.state.countryNames[0],[].concat(Object(_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(e.state.countryNames[1]),[_.country.name])],data:t}))}))}))}},{key:"render",value:function(){var e=this.state,_=e.countryNames,t=e.data,a=e.visitedColor,r=e.bucketListColor;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(react_jvectormap__WEBPACK_IMPORTED_MODULE_7__.VectorMap,{map:"world_mill",backgroundColor:"transparent",zoomOnScroll:!1,containerStyle:{width:"100%",height:"520px"},onRegionClick:this.handleClick,containerClassName:"map",regionStyle:{initial:{fill:"#e4e4e4","fill-opacity":.9,stroke:"none","stroke-width":0,"stroke-opacity":0},hover:{"fill-opacity":.8,cursor:"pointer"},selected:{fill:"#e4e4e4"},selectedHover:{}},regionsSelectable:!0,series:{regions:[{values:t,scale:[r,a],normalizeFunction:"polynomial"}]}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(Container,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(ButtonContainer,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("button",{value:!0,onClick:this.handleColorChange,children:"Select visited countries"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("button",{value:!1,onClick:this.handleColorChange,children:"Select bucket-list countries"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{className:"countries-list",children:["I've seen:",_[0].map((function(e,_){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{children:e},_)}))]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{className:"countries-list",children:["I want to see:",_[1].map((function(e,_){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{children:e},_)}))]})]})]})}}]),Map}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);__webpack_exports__.a=Map;var Container=_emotion_styled__WEBPACK_IMPORTED_MODULE_8__.a.div(_templateObject||(_templateObject=Object(_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n  text-align: center;\n  input {\n    padding: 10px;\n    border-radius: 5px;\n    border-shadow: 0;\n    border-style: solid;\n    font-size: 16px;\n    &:focus {\n      outline: none;\n    }\n  }\n"]))),ButtonContainer=_emotion_styled__WEBPACK_IMPORTED_MODULE_8__.a.div(_templateObject2||(_templateObject2=Object(_Users_jyeharry_Projects_project2_react_scratch_map_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n  position: absolute;\n"])))},43:function(e,_,t){},44:function(e,_,t){},51:function(e,_,t){},52:function(e,_,t){},73:function(e,_,t){"use strict";t.r(_);var a=t(1),r=t.n(a),s=t(35),n=t.n(s),c=(t(43),t(11)),o=t(12),i=t(14),l=t(13),u=(t(44),t(0));var d=function(e){return Object(u.jsxs)("div",{children:[e.name,"'s Profile"]})};var p=function(){return Object(u.jsx)("div",{children:"Scratch Pad v-2"})},h=t(8);var m=function(e){return e.loggedIn?Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(h.b,{to:"/",children:"Home"})}),Object(u.jsx)("li",{children:Object(u.jsx)(h.b,{to:"/profile",children:"My Scratch Pad"})}),Object(u.jsx)("li",{children:Object(u.jsx)(h.b,{to:"/map",children:"Map"})}),Object(u.jsx)("li",{children:Object(u.jsxs)("button",{onClick:e.logOut,children:["Logout ",e.name]})})]})}):Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(h.b,{to:"/",children:"Home"})}),Object(u.jsx)("li",{children:Object(u.jsx)(h.b,{to:"/register",children:"Sign up"})}),Object(u.jsx)("li",{children:Object(u.jsx)(h.b,{to:"/login",children:"Login"})})]})})},b=(t(51),function(e){Object(i.a)(t,e);var _=Object(l.a)(t);function t(){var e;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=_.call.apply(_,[this].concat(r))).state={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},e.nameChange=function(_){e.setState({name:_.target.value})},e.emailChange=function(_){e.setState({email:_.target.value})},e.passwordChange=function(_){e.setState({password:_.target.value})},e.confirmPasswordChange=function(_){e.setState({confirmPassword:_.target.value})},e.handleRegister=function(_){_.preventDefault();var t={name:e.state.name,email:e.state.email,password:e.state.password,confirmPassword:e.state.confirmPassword};console.log("NEW MINION ATTAINED",t),e.props.onRegister(t)},e}return Object(o.a)(t,[{key:"render",value:function(){return Object(u.jsxs)("form",{onSubmit:this.handleRegister,children:[Object(u.jsxs)("label",{className:"registerLabel",children:["Name:",Object(u.jsx)("input",{required:!0,name:"name",onChange:this.nameChange})]}),Object(u.jsxs)("label",{className:"registerLabel",children:["Email:",Object(u.jsx)("input",{type:"email",required:!0,name:"email",onChange:this.emailChange})]}),Object(u.jsxs)("label",{className:"registerLabel",children:["Password:",Object(u.jsx)("input",{type:"password",required:!0,name:"password",onChange:this.passwordChange})]}),Object(u.jsxs)("label",{className:"registerLabel",children:["Confirm Password:",Object(u.jsx)("input",{type:"password",required:!0,name:"confirmPassword",onChange:this.confirmPasswordChange})]}),Object(u.jsx)("button",{type:"submit",id:"register",children:"Submit"})]})}}]),t}(r.a.Component)),j=(t(52),function(e){Object(i.a)(t,e);var _=Object(l.a)(t);function t(){var e;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=_.call.apply(_,[this].concat(r))).state={email:"",password:""},e.emailChange=function(_){e.setState({email:_.target.value})},e.passwordChange=function(_){e.setState({password:_.target.value})},e.handleLogin=function(_){_.preventDefault();var t={email:e.state.email,password:e.state.password};e.props.onLogin(t)},e}return Object(o.a)(t,[{key:"render",value:function(){return Object(u.jsxs)("form",{onSubmit:this.handleLogin,children:[Object(u.jsxs)("label",{className:"loginLabel",children:["Email:",Object(u.jsx)("input",{type:"email",required:!0,name:"email",onChange:this.emailChange})]}),Object(u.jsxs)("label",{children:["Password:",Object(u.jsx)("input",{type:"password",required:!0,name:"password",onChange:this.passwordChange})]}),Object(u.jsx)("button",{type:"submit",id:"register",children:"Login"})]})}}]),t}(r.a.Component)),O=t(9),E=t.n(O),P=t(36),C=t(10),y=t(3),M=function(e){Object(i.a)(t,e);var _=Object(l.a)(t);function t(){var e;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=_.call.apply(_,[this].concat(r))).state={checkedSession:!1,loggedIn:!1,user:{}},e.userLogout=function(){E.a.delete("".concat(C.a,"/login"),{withCredentials:!0}).then((function(_){e.logOut()}))},e.userLogin=function(_){E.a.post("".concat(C.a,"/login"),_,{withCredentials:!0}).then((function(_){e.loginSuccess(_.data)})).catch((function(){return e.loginFail()}))},e.userRegistered=function(_){E.a.post("".concat(C.a,"/users"),{user:_},{withCredentials:!0}).then((function(_){e.loginSuccess(_.data)})).catch((function(){return e.loginFail()}))},e}return Object(o.a)(t,[{key:"loginSuccess",value:function(e){this.setState({checkedSession:!0,user:e,loggedIn:!0}),this.props.history.push("/profile")}},{key:"loginFail",value:function(){this.setState({checkedSession:!0,user:{},loggedIn:!1})}},{key:"logOut",value:function(){this.setState({checkedSession:!0,user:{},loggedIn:!1}),this.props.history.push("/")}},{key:"componentDidMount",value:function(){var e=this;E.a.get("".concat(C.a,"/login"),{withCredentials:!0}).then((function(_){e.loginSuccess(_.data)})).catch((function(){return e.loginFail()}))}},{key:"render",value:function(){return this.state.checkedSession?Object(u.jsxs)("div",{children:[Object(u.jsx)(m,{logOut:this.userLogout,loggedIn:this.state.loggedIn,name:this.state.user.name}),Object(u.jsxs)(y.c,{children:[Object(u.jsx)(y.a,{path:"/profile",children:Object(u.jsx)(d,{name:this.state.user.name,email:this.state.user.email})}),Object(u.jsx)(y.a,{path:"/register",children:Object(u.jsx)(b,{onRegister:this.userRegistered})}),Object(u.jsx)(y.a,{path:"/login",children:Object(u.jsx)(j,{onLogin:this.userLogin})}),Object(u.jsx)(y.a,{path:"/map",children:Object(u.jsx)(P.a,{})}),Object(u.jsx)(y.a,{path:"/",children:Object(u.jsx)(p,{})})]})]}):Object(u.jsx)("div",{children:"Loading ... "})}}]),t}(r.a.Component),g=Object(y.f)(M);var D=function(){return Object(u.jsx)(h.a,{children:Object(u.jsx)(g,{})})};n.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(D,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.ad9bc26c.chunk.js.map